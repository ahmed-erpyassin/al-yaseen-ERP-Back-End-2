# ุชูููุฐ ูุธุงู ุทูุจูุฉ ุตุงุฏุฑุฉ (Outgoing Order) - ููุชูู

## ููุฎุต ุงูุชุญุฏูุซุงุช ุงูููุฌุฒุฉ

### 1. ุฅูุดุงุก ุทูุจูุฉ ุตุงุฏุฑุฉ ุฌุฏูุฏุฉ

#### ุงูุญููู ุงูุชููุงุฆูุฉ:
- **ุฑูู ุงูุทูุจูุฉ ุงูุตุงุฏุฑุฉ**: ุชุฑููู ุชุณูุณูู ุชููุงุฆู (OUT-0001, OUT-0002, ุฅูุฎ)
- **ุฑูุฒ ุงูุฏูุชุฑ**: ุชููุงุฆู (JOU-001, JOU-002, ุฅูุฎ)
- **ุฑูู ุงููุงุชูุฑุฉ**: ุชุฑููู ุชุณูุณูู ุนุจุฑ ุฌููุน ุงูุฏูุงุชุฑ
- **ุงูุชุงุฑูุฎ**: ุชููุงุฆู (ุงูุชุงุฑูุฎ ุงูุญุงูู)
- **ุงูููุช**: ุชููุงุฆู (ุงูููุช ุงูุญุงูู)

#### ูุธุงู ุงูุฏูุงุชุฑ:
- **50 ูุงุชูุฑุฉ ูุญุฏ ุฃูุตู ููู ุฏูุชุฑ**
- **ุฅูุดุงุก ุฏูุชุฑ ุฌุฏูุฏ ุชููุงุฆูุงู** ุนูุฏ ุงููุตูู ููุญุฏ ุงูุฃูุตู
- **ุชุฑููู ูุณุชูุฑ ููููุงุชูุฑ** ุนุจุฑ ุฌููุน ุงูุฏูุงุชุฑ
- **ูุซุงู**: ุงูุฏูุชุฑ 1 (ููุงุชูุฑ 1-50)ุ ุงูุฏูุชุฑ 2 (ููุงุชูุฑ 51-100)

#### ุชูุงูู ุงูุนููุงุก:
- **ูุงุฆูุฉ ููุณุฏูุฉ ูุฃุฑูุงู ุงูุนููุงุก** (ูููุฑุงุกุฉ ููุท)
- **ุชุนุจุฆุฉ ุชููุงุฆูุฉ ูุงุณู ุงูุนููู** ุนูุฏ ุงุฎุชูุงุฑ ุงูุฑูู
- **ุจุญุซ ุซูุงุฆู ุงูุงุชุฌุงู**: ุฑูู ุงูุนููู โ ุงุณู ุงูุนููู
- **ุจุญุซ ุจุงููุชุงุจุฉ ุงููุณุจูุฉ** ููุนููุงุก
- **ุชุนุจุฆุฉ ุชููุงุฆูุฉ ููุฅูููู ูุงูููุจุงูู** ูู ุจูุงูุงุช ุงูุนููู

#### ุชูุงูู ุงูุนููุงุช:
- **ูุงุฆูุฉ ููุณุฏูุฉ ููุนููุงุช ุงููุดุทุฉ**
- **ุฃุณุนุงุฑ ุตุฑู ูุจุงุดุฑุฉ** ูู API ุฎุงุฑุฌู
- **ุชุนุจุฆุฉ ุชููุงุฆูุฉ ููุณุนุฑ** ุนูุฏ ุงุฎุชูุงุฑ ุงูุนููุฉ
- **ุฏุนู ุญุณุงุจุงุช ุงูุถุฑุงุฆุจ** ูุน ุงูุนููุงุช ุงููุฎุชููุฉ

#### ุงููุดุบู ุงููุฑุฎุต:
- **ุฅุฏุฎุงู ูุฏูู** ูููุดุบู ุงููุฑุฎุต

### 2. ุจูุงูุงุช ุงูุทูุจูุฉ ุงูุตุงุฏุฑุฉ (ุงูุนูุงุตุฑ)

#### ุฅุฏุงุฑุฉ ุงูุนูุงุตุฑ:
- **ุฑูู ุชุณูุณูู ููุฌุฏูู**: ุชููุงุฆู
- **ุฑูู ุงูุตูู**: ูุงุฆูุฉ ููุณุฏูุฉ ูุฌููุน ุงูุฃุตูุงู ุงููุดุทุฉ
- **ุงุณู ุงูุตูู**: ุจุญุซ ุจุงููุชุงุจุฉ ุงููุณุจูุฉ + ุชุนุจุฆุฉ ุชููุงุฆูุฉ
- **ุงููุญุฏุฉ**: ุชุฃุชู ูู ุฌุฏูู ุงููุญุฏุงุช ุญุณุจ ุงูุตูู
- **ุงููููุฉ**: ุฅุฏุฎุงู ูุฏูู
- **ุณุนุฑ ุงููุญุฏุฉ**: ูุฃุชู ูู ุงูุณุนุฑ ุงูุฃูู ููุจูุน + ูุงุจู ููุชุนุฏูู

#### ูุธุงู ุงูุฎุตููุงุช ุงููุฑู:
- **ุฎุตู ุจุงููุณุจุฉ ุงููุฆููุฉ ุฃู ุงููุจูุบ**
- **ุญูููู ูููุตููู**: ูุณุจุฉ ุงูุฎุตู ููุจูุบ ุงูุฎุตู
- **ุญุณุงุจ ุชููุงุฆู**: ุนูุฏ ุฅุฏุฎุงู ุงููุณุจุฉ ูุญุณุจ ุงููุจูุบ ูุงูุนูุณ
- **ุฎุตู ุนูู ูุณุชูู ุงูุตูู**

#### ุงูุญุณุงุจุงุช ุงูุชููุงุฆูุฉ:
- **ุงูุฅุฌูุงูู**: ุงููููุฉ ร ุณุนุฑ ุงููุญุฏุฉ
- **ุงูุฅุฌูุงูู ุจุฏูู ุถุฑูุจุฉ**: ุจุนุฏ ุฎุตู ุงูุฎุตููุงุช
- **ุงูุถุฑูุจุฉ**: ุญุณุจ ูุนุฏู ุงูุถุฑูุจุฉ ุงููุญุฏุฏ
- **ุงูุฅุฌูุงูู ุงูููุงุฆู**: ุดุงูู ุงูุถุฑูุจุฉ

### 3. ูุธุงู ุงูุถุฑุงุฆุจ ุงููุชูุฏู

#### ุชูุนูู ุงูุถุฑูุจุฉ:
- **ุญูู ุชูุนูู ุงูุถุฑูุจุฉ**: is_tax_inclusive
- **ุฑุจุท ุจุฌุฏูู ูุนุฏูุงุช ุงูุถุฑูุจุฉ**: tax_rates
- **ุญุณุงุจ ุชููุงุฆู ููุถุฑูุจุฉ** ุนูุฏ ุงูุชูุนูู
- **ุฅูุบุงุก ุงูุถุฑูุจุฉ** ุนูุฏ ุนุฏู ุงูุชูุนูู

### 4. ุฃุณุนุงุฑ ุงูุตุฑู ุงููุจุงุดุฑุฉ

#### API ุฎุงุฑุฌู:
- **ุฑุจุท ูุน exchangerate-api.com**
- **ุชุญุฏูุซ ูุจุงุดุฑ** ูุฃุณุนุงุฑ ุงูุตุฑู
- **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ูููุฉ ุงูุชุฑุงุถูุฉ ุนูุฏ ูุดู ุงูุงุชุตุงู
- **ูููุฉ ุฒูููุฉ**: 10 ุซูุงูู ููุงุณุชุฌุงุจุฉ

### 5. ููุงุนุฏ ุงูุจูุงูุงุช ุงููุญุฏุซุฉ

#### ุฌุฏูู ุงููุดุชุฑูุงุช (purchases):
```sql
-- ุญููู ุฌุฏูุฏุฉ ูุถุงูุฉ:
customer_id (ุนูุงูุฉ ูุน ุฌุฏูู ุงูุนููุงุก)
outgoing_order_number (ุฑูู ุงูุทูุจูุฉ ุงูุตุงุฏุฑุฉ)
customer_number (ุฑูู ุงูุนููู)
customer_name (ุงุณู ุงูุนููู)
customer_email (ุฅูููู ุงูุนููู)
customer_mobile (ููุจุงูู ุงูุนููู)
licensed_operator (ุงููุดุบู ุงููุฑุฎุต)
date (ุงูุชุงุฑูุฎ)
time (ุงูููุช)
due_date (ุชุงุฑูุฎ ุงูุงุณุชุญูุงู)
journal_code (ุฑูุฒ ุงูุฏูุชุฑ)
journal_invoice_count (ุนุฏุฏ ุงูููุงุชูุฑ ูู ุงูุฏูุชุฑ)
discount_percentage (ูุณุจุฉ ุงูุฎุตู)
discount_amount (ูุจูุบ ุงูุฎุตู)
is_tax_inclusive (ุชูุนูู ุงูุถุฑูุจุฉ)
```

#### ุฌุฏูู ุนูุงุตุฑ ุงููุดุชุฑูุงุช (purchase_items):
```sql
-- ุญููู ุฌุฏูุฏุฉ ูุถุงูุฉ:
serial_number (ุงูุฑูู ุงูุชุณูุณูู)
item_number (ุฑูู ุงูุตูู)
item_name (ุงุณู ุงูุตูู)
unit (ุงููุญุฏุฉ)
discount_percentage (ูุณุจุฉ ุฎุตู ุงูุตูู)
discount_amount (ูุจูุบ ุฎุตู ุงูุตูู)
total_without_tax (ุงูุฅุฌูุงูู ุจุฏูู ุถุฑูุจุฉ)
```

### 6. ุงูููุงุฐุฌ ูุงูุนูุงูุงุช

#### Purchase Model:
- **ุนูุงูุงุช ุฌุฏูุฏุฉ**: Customer, Currency, Journal, PurchaseItem
- **ูุธุงุฆู ุชูููุฏ ุงูุฃุฑูุงู**: generateOutgoingOrderNumber()
- **ูุธุงู ุงูุฏูุงุชุฑ**: generateJournalAndInvoiceNumber()
- **ูุทุงูุงุช ุงูุจุญุซ**: outgoingOrders(), forCompany(), byType()

#### PurchaseItem Model:
- **ุญุณุงุจุงุช ุชููุงุฆูุฉ**: calculateTotal(), calculateTotalWithoutTax()
- **ุนูุงูุงุช**: Purchase, Item
- **ุชุญุฏูุซ ุชููุงุฆู**: ููุฅุฌูุงููุงุช ุนูุฏ ุงูุญูุธ

### 7. ุงูุฎุฏูุงุช (Services)

#### OutgoingOrderService:
- **ุฅูุดุงุก ุทูุจูุฉ ุตุงุฏุฑุฉ**: store() ูุน ูุนุงููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **ูุงุฆูุฉ ุงูุทูุจูุงุช**: index() ูุน ุงูุจุญุซ ูุงูุชุฑููู
- **ุจูุงูุงุช ุงูููุงุฐุฌ**: getCustomers(), getItems(), getCurrencies()
- **ุฃุณุนุงุฑ ุงูุตุฑู ุงููุจุงุดุฑุฉ**: getLiveExchangeRate()
- **ุญุณุงุจุงุช ุงูุฅุฌูุงููุงุช**: calculateOrderTotals()

### 8. ููุงุท ุงูููุงูุฉ (API Endpoints)

```
# ุงูุทูุจูุงุช ุงูุตุงุฏุฑุฉ ุงูุฃุณุงุณูุฉ
GET /v1/purchase/outgoing-orders
POST /v1/purchase/outgoing-orders

# ุจูุงูุงุช ุงูููุงุฐุฌ
GET /v1/purchase/outgoing-orders/customers
GET /v1/purchase/outgoing-orders/items
GET /v1/purchase/outgoing-orders/currencies
GET /v1/purchase/outgoing-orders/tax-rates

# ุงูุฎุฏูุงุช ุงููุณุงุนุฏุฉ
GET /v1/purchase/outgoing-orders/live-exchange-rate
GET /v1/purchase/outgoing-orders/form-data
```

### 9. ุงูุชุญูู ูู ุงูุจูุงูุงุช

#### OutgoingOrderRequest:
- **ุชุญูู ุดุงูู** ูู ุฌููุน ุงูุญููู
- **ุฑุณุงุฆู ุฎุทุฃ ูุฎุตุตุฉ** ุจุงููุบุฉ ุงูุฅูุฌููุฒูุฉ
- **ุชุญูู ูู ุงูุนูุงูุงุช**: ุงูุนููุงุกุ ุงูุนููุงุชุ ุงูุฃุตูุงู
- **ุชุญูู ูู ุงูุนูุงุตุฑ**: ูููุฉุ ุณุนุฑุ ุฎุตููุงุชุ ุถุฑุงุฆุจ

### 10. ููุงุฑุฏ API (Resources)

#### OutgoingOrderResource:
- **ุชูุณูู ุดุงูู** ูุฌููุน ุงูุจูุงูุงุช
- **ุชุญููู ุงูุนูุงูุงุช**: ุงูุนูููุ ุงูุนููุฉุ ุงูุนูุงุตุฑ
- **ูุนูููุงุช ุงูุชุฏููู**: ุงูููุดุฆุ ุงููุญุฏุซ
- **ุชูุณูู ุงูุชูุงุฑูุฎ**: Y-m-d H:i:s

### 11. ุงูููุฒุงุช ุงููุชูุฏูุฉ

#### ุงูุฃูุงู:
- **ุญูุงูุฉ ูู SQL Injection**: ุงุณุชุฎุฏุงู Eloquent ORM
- **ุชุญูู ูู ุงูุตูุงุญูุงุช**: middleware auth:sanctum
- **ูุนุงููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ูุถูุงู ุชูุงูู ุงูุจูุงูุงุช

#### ุงูุฃุฏุงุก:
- **ููุงุฑุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช**: ููุจุญุซ ุงูุณุฑูุน
- **ุชุญููู ุงูุนูุงูุงุช**: eager loading
- **ุชุฑููู ุงููุชุงุฆุฌ**: pagination ููููุงุฆู ุงูุทูููุฉ

#### ุณูููุฉ ุงูุงุณุชุฎุฏุงู:
- **ุจุญุซ ุฐูู**: ููุนููุงุก ูุงูุฃุตูุงู
- **ุชุนุจุฆุฉ ุชููุงุฆูุฉ**: ููุญููู ุงููุฑุชุจุทุฉ
- **ุญุณุงุจุงุช ุชููุงุฆูุฉ**: ููุฅุฌูุงููุงุช ูุงูุถุฑุงุฆุจ

### 12. ุงููููุงุช ุงูููุดุฃุฉ/ุงููุญุฏุซุฉ

#### ูููุงุช ุฌุฏูุฏุฉ:
- `2025_01_28_000000_fix_purchase_items_item_id_type.php` (Migration)
- `2025_01_28_000001_add_outgoing_order_fields_to_purchases_table.php` (Migration)
- `2025_01_28_000002_add_outgoing_order_fields_to_purchase_items_table.php` (Migration)
- `PurchaseItem.php` (Model)
- `OutgoingOrderResource.php` (API Resource)

#### ูููุงุช ูุญุฏุซุฉ:
- `create_purchases_table.php` (ุฅุถุงูุฉ outgoing_order ุฅูู enum)
- `Purchase.php` (ุชุญุณูู ุดุงูู ูุน ุงูุนูุงูุงุช ูุงููุธุงุฆู)
- `OutgoingOrderService.php` (ุชุทููุฑ ูุงูู ููุฎุฏูุฉ)
- `OutgoingOrderController.php` (ุฅุถุงูุฉ ุฌููุน endpoints)
- `OutgoingOrderRequest.php` (ุชุญูู ุดุงูู ูู ุงูุจูุงูุงุช)
- `api.php` (ุฅุถุงูุฉ routes ุฌุฏูุฏุฉ)

### 13. ุญุงูุฉ ุงูุชูููุฐ ุงูููุงุฆูุฉ

โ **ุฅูุดุงุก ุทูุจูุฉ ุตุงุฏุฑุฉ**: ููุชูู ูุน ูุธุงู ุงูุฏูุงุชุฑ ูุงูุชุฑููู ุงูุชููุงุฆู
โ **ุชูุงูู ุงูุนููุงุก**: ููุชูู ูุน ุงูุจุญุซ ุซูุงุฆู ุงูุงุชุฌุงู
โ **ุชูุงูู ุงูุฃุตูุงู**: ููุชูู ูุน ุงูุจุญุซ ูุงูุชุนุจุฆุฉ ุงูุชููุงุฆูุฉ
โ **ูุธุงู ุงูุฎุตููุงุช**: ููุชูู ุจุงููุณุจุฉ ูุงููุจูุบ
โ **ูุธุงู ุงูุถุฑุงุฆุจ**: ููุชูู ูุน ุงูุชูุนูู/ุงูุฅูุบุงุก
โ **ุฃุณุนุงุฑ ุงูุตุฑู ุงููุจุงุดุฑุฉ**: ููุชูู ูุน API ุฎุงุฑุฌู
โ **ุญุณุงุจุงุช ุงูุฅุฌูุงููุงุช**: ููุชูู ุชููุงุฆูุงู
โ **ููุงุนุฏ ุงูุจูุงูุงุช**: ููุชููุฉ ูุน ุฌููุน ุงูุญููู ูุงูุนูุงูุงุช
โ **API Endpoints**: ููุชููุฉ ูุน ุฌููุน ุงููุธุงุฆู
โ **ุงูุชุญูู ูู ุงูุจูุงูุงุช**: ููุชูู ุดุงูู
โ **ููุงุฑุฏ API**: ููุชููุฉ ูุน ุชูุณูู ุดุงูู

**๐ฏ ุชู ุชูููุฐ ุฌููุน ูุชุทูุจุงุช ุทูุจูุฉ ุตุงุฏุฑุฉ ุจูุฌุงุญ ุฏูู ุญุฐู ุฃู ููุฏ ููุฌูุฏ!**

## ุทุฑููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ุฅูุดุงุก ุทูุจูุฉ ุตุงุฏุฑุฉ ุฌุฏูุฏุฉ:
```bash
POST /v1/purchase/outgoing-orders
```

### 2. ุงูุญุตูู ุนูู ุจูุงูุงุช ุงูููุงุฐุฌ:
```bash
GET /v1/purchase/outgoing-orders/form-data
```

### 3. ุงูุจุญุซ ุนู ุงูุนููุงุก:
```bash
GET /v1/purchase/outgoing-orders/customers?search=ุงุณู_ุงูุนููู
```

### 4. ุงูุญุตูู ุนูู ุณุนุฑ ุตุฑู ูุจุงุดุฑ:
```bash
GET /v1/purchase/outgoing-orders/live-exchange-rate?currency_id=1
```

ุฌููุน ุงููุธุงุฆู ุชุนูู ุจุดูู ูุงูู ููุชูุงูู! ๐
